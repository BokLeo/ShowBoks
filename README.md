
# 📜 Patch Notes

### **250103 ~ 250104**
#### 🤔 **[ISSUE] 접속 속도가 느림**
- **접속 흐름 분석**:
  `duckdns -> <public IP> -> Oracle Instance -> Nginx Proxy Manager -> [페이지 접속]`
  - `public IP`를 통해 직접 접속 시 바로 연결이 되는 것을 확인.
  - 따라서 **Instance**와 **Nginx Proxy Manager**는 문제 없다고 판단.
  - **DuckDNS** 사이트 자체 속도가 느린 것으로 확인.

- **해결 방향**:
  - DNS 서비스를 **DuckDNS**에서 **가비아 도메인**으로 변경하기로 결정:
    1. 가비아 도메인 구입.
    2. Oracle Instance와 가비아 도메인 연결.
    3. 서브 도메인 설정 (A Record).

- **문제 발견**:
  - 가비아의 서브 도메인 연결이 24~48시간 소요될 수 있다고 가이드에 명시되어 있었지만, 하루가 지나도 연결되지 않음.
  - Nginx Proxy Manager의 SSL 인증서 발급 문제로 HTTPS 접속이 불가능한 상황 확인:
    - SSL 인증서 발급을 위해 `http://<public IP>:port`로 접속 가능해야 함.
    - 메인 도메인(`가비아 주소`)은 정상적으로 접속되는 것을 확인.
    - **Nginx 설정** 문제로 판단.

---

#### 💡 **[SOLUTION] Nginx 설정 변경**
1. Docker에서 내보내는 **port**와 Nginx가 받는 **port 번호**를 확인하고 일치시킴.
2. 기존 개발 서버에서 빌드되던 방식을 **프로덕션 빌드**로 전환:
   - Nginx가 정적 파일을 서빙하도록 설정 변경.
   - **Frontend**와 **Backend** 모두 수정 후 서브 도메인 연결 성공!

---

#### 🚀 **[RESULT] 속도 최적화**
- **초기 로딩 속도 향상**:
  - **과거**: 7~11초
  - **현재**: **7ms** 🔥
- 서브 도메인을 통한 연결이 안정적으로 작동.

---

#### 👍 **개선 결과**
- DNS 변경과 Nginx 설정 수정으로 성능 및 안정성 개선.
- **배포 환경**에서 정적 파일 서빙을 통해 빠른 로딩 속도를 확보.


---

### **241204 (Dec 4, 2024)**
- API 정의서를 참고하여 데이터 수정 로직을 30분 단위로 업데이트.
- `now`, `day` 값을 확인하기 위한 로그 추가. (`time` 증가 확인 완료)
- `getFormattedDate` 함수에서 `timezone` 확인을 위한 콘솔 추가.
- `base_date`, `base_time` 위치 조정 및 빌드 후 커밋 완료.

---

### **241203 (Dec 3, 2024)**
- 날씨 API의 날짜 처리 로직 개선.
  - **문제 해결**: `getFormattedDate` 함수의 캐싱 문제를 해결하여, 동적으로 현재 시간을 계산하도록 수정.
- 날씨 UI 조정 작업 진행.

---

### **241127 (Nov 27, 2024)**
- Weather API의 `date`, `time` 에러 수정 작업 진행.
- Naver API `orders` 조건 변경.
- 테스트 커밋 진행.

---

### **241125 (Nov 25, 2024)**
- 날씨 API의 날짜와 시간 오류 수정:
  - **Intl API**를 활용한 시간대(Timezone) 처리 로직 추가.

---

### **241120 (Nov 20, 2024)**
- 네이버 지도 API 호출 시 에러 처리 로직 추가.

---

### **241119 (Nov 19, 2024)**
- 위치 기반 날씨 API 보정 작업 진행.
- DB 테이블 환경 설정 (`talk_free` 테이블).
- 주석 제거 작업.

---

### **241115 (Nov 15, 2024)**
- Docker 설정 변경:
  - Volume 경로 수정.
  - MySQL 컨테이너 재생성.
- 프론트엔드 수정 사항 반영.

---

### **241113 (Nov 13, 2024)**
- **Showboks 인프라 구축 완료:**
  - Ubuntu 서버 설정 완료.
  - Docker 및 Nginx 설정 완료.
  - Portainer 설정 완료.
  - Showboks 프론트엔드 및 백엔드 배포 완료.
- **테스트 피드백:**
  - 첫 접속이 느림 → 재확인 필요.
  - 프론트엔드 About 페이지의 아이콘 오작동 문제 보고.
  - FreeTalk 이름 길이 조정 필요.

---

### **241111 (Nov 11, 2024)**
- Docker 컨테이너 실행 경로 수정.
- `frontend` 디렉토리에 `.dockerignore` 추가.
- 불필요한 모듈 제거.
- 운영 배포 테스트 진행 중.

---

### **241105 (Nov 5, 2024)**
- 스타일 보정:
  - Padding, Font, 1024px 기준으로 수정.
- 불필요 모듈 제거.
- Experience, Projects 컴포넌트 개발 및 데이터 세팅 완료.
- 텍스트 수정 완료.  
- **배포 준비 완료!**

---

### **241104 (Nov 4, 2024)**
- 좌측 퀵 이동 Nav 컴포넌트화.
- Experience 및 Projects 컴포넌트 구현.
  - Link 및 데이터 설정 완료.
- 불필요한 우측 패널 구성 삭제 예정.

---

### **241101 (Nov 1, 2024)**
- Weather API에서 서버 상태에 따라 날씨 표현 방식 수정.
- Redux를 활용한 서버 상태 관리 로직 업데이트.

---

### **241013 (Oct 13, 2024)**
- 위치 기반 날씨 모듈 구현:
  - Geolocation API를 통해 좌표 획득.
  - NaverMap API로 지역 정보 획득.
  - 기상청 API로 날씨 데이터 획득.
- **TODO**: 디자인 작업.

---

### **241011 (Oct 11, 2024)**
- 날씨 API 'getUltraSrtFcst' 조회 구현.
- JSON 데이터 재가공.
- 백엔드 수정.

---

## ✨ 기타
- **241017 ~ 241027**: 학습 기록 및 테스트 작업.

---


### ⭕ 241026~27 학습 기록
- OCI Free Tier 
	✨ 과거 계정 Free Tier ➡️ 결제 방식 추가로 유료 계정으로 전환
- OCI 
	- 구획 생성
	- 가상 클라우드 네트워크 생성
	- 인스턴스 생성
	- 인스턴스 수신 규칙 설정
	- 에약된 공용 IP 생성 및 인스턴스 연결
	- 인스턴스 ssh 접속 확인
	- 인스턴스 부트 볼륨 백업 및 복구
- Ubuntu
	- 초기 설정
		- 기본 패키지 설치
		- SSH 포트 및 로그인 방식 변경
		- iptables에 새로운 ssh 포트 허용 저장
			> 로그인이 안되는 이슈로 인하여 ubuntu iptables 설정 초기화 진행(INPUT/OUTPUT/FORWARD 모두 허용 -> iptables 사용 안함 효과)
			🤔 위 이슈는 sshd_config의 ListenAddress를 수정하였더니 접속 가능하였음.
				- ListenAddress : 127.0.0.1 -> 0.0.0.0
				이것이 이슈를 해결한 본질적인 해결법이라면 iptables 설정 초기화가 불필요할듯
				(상기) 두 방법 중 두가지 방법이 모두 필요한지 아니면 하나만 필요한지 추후 확인 필요할듯
		- OCI에서 수신 규칙 추가
		- 유저 계정 생성 및 권한 부여
		- 새로운 유저 계정 ssh 접속 확인
	- 우분투 보안 설정
	- 우분투 xRDP 설정 및 원격 데스크톱 연결
- Docker
	- docker 설치 및 network 설정
	- Nginx Proxy Manager 설치 및 NPM 연동
	- Portainer 설치 및 NPM 연동
